<style type="text/css">
.angular-ui-tree-handle {
background: #f8faff;
border: 1px solid #dae2ea;
color: #7c9eb2;
padding: 10px 10px;
}

.angular-ui-tree-handle:hover {
color: #438eb9;
background: #f4f6f7;
border-color: #dce2e8;
}

.angular-ui-tree-placeholder {
background: #f0f9ff;
border: 2px dashed #bed2db;
-webkit-box-sizing: border-box;
-moz-box-sizing: border-box;
box-sizing: border-box;
}

tr.angular-ui-tree-empty {
height:100px
}

.group-title {
background-color: #687074 !important;
color: #FFF !important;
}


/* --- Tree --- */
.tree-node {
border: 1px solid #dae2ea;
background: #f8faff;
color: #7c9eb2;
}

.nodrop {
background-color: #f2dede;
}

.tree-node-content {
margin: 10px;
}
.tree-handle {
padding: 10px;
background: #428bca;
color: #FFF;
margin-right: 10px;
}

.angular-ui-tree-handle:hover {
}

.angular-ui-tree-placeholder {
background: #f0f9ff;
border: 2px dashed #bed2db;
-webkit-box-sizing: border-box;
-moz-box-sizing: border-box;
box-sizing: border-box;
}
</style>
<div ui-tree-handle class="tree-node tree-node-content">
    <a class="btn btn-success btn-xs" ng-if="node.nodes && node.nodes.length > 0" data-nodrag ng-click="toggle(this)"><i 
            class="glyphicon" ng-class="{'glyphicon-chevron-right': collapsed, 'glyphicon-chevron-down': !collapsed}"></i></a>
    
   <span ng-if="!node.isEdit">{{node.name}}</span>
    <span ng-if="node.isEdit">
        <input data-nodrag class="form-control ng-animate-disabled" maxlength="50" ng-model="node.name" />
        <ui-select data-nodrag ng-model="node.icon">
            <ui-select-match placeholder="Select an icon">
                <!--<div ng-bind-html="$select.selected.label || '<i class='+$select.selected+'>'"></div>-->
                <div>
                    <span ng-if="$select.selected.value" class="{{$select.selected.value}}">{{ $select.selected.value }}</span>
                    <span ng-if="!$select.selected.value" class="{{$select.selected}}">{{ $select.selected }}</span>
                </div>
            </ui-select-match>
            <ui-select-choices repeat="icon in icons | filter:{ label:$select.search }">
                <div ng-bind-html="icon.label"></div>
            </ui-select-choices>
        </ui-select>
    </span>
    <select data-nodrag style="margin-bottom: 10px;"
            class="form-control ng-animate-disabled"
            name="name"
            ng-model="menuModuleList"
            ng-change="selectModule(node.menuId, node.no, menuModuleList)"
            ng-show="!node.isEdit && node.showModuleList"
            ng-options="o as o['label_' + language + '_plural'] for o in newModuleList | filter:{display:'!false'} | orderNotZero | orderBy:'label_' + language + '_plural'">
        <option value="">
            {{'Common.Select' | translate}}
        </option>
    </select>
    <a ng-if="node.menuModuleType === 'Tanım Giriş' && !node.isEdit" class="pull-right btn btn-primary btn-xs" data-nodrag ng-click="addModule(node.no)" style="margin-right: 8px;"><i
            class="fas fa-plus"></i></a> 
    <a ng-if="!node.isEdit && !node.showModuleList" class="pull-right btn btn-primary btn-xs" data-nodrag ng-click="edit(node)" style="margin-right: 8px;"><i
            class="fas fa-pen"></i></a>
    <a ng-if="!node.isEdit && !node.showModuleList" class="pull-right btn btn-danger btn-xs" data-nodrag ng-click="remove_($parent.$parent.$modelValue, $parent.$parent.$parentNodesScope.$modelValue, $parent.$parent.$parentNodeScope.$modelValue)"><i
            class="fas fa-trash"></i></a>
    <a ng-if="node.isEdit" class="pull-right btn btn-danger btn-xs" data-nodrag ng-click="update(node)"><i
            class="fa fa-check"></i></a>
</div>
<ol ui-tree-nodes="" ng-model="node.nodes" ng-class="{hidden: collapsed}">
    <li ng-repeat="node in node.nodes" ui-tree-node ng-include="'view/app/visualization/menus/test.html'">
    </li>
</ol>