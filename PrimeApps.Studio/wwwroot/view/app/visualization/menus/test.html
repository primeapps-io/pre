
<span ui-tree-handle class="tree-node tree-node-content">
    <!--<a class="btn btn-success btn-xs" ng-if="node.nodes && node.nodes.length > 0" data-nodrag ng-click="toggle(this)"><i 
            class="glyphicon" ng-class="{'glyphicon-chevron-right': collapsed, 'glyphicon-chevron-down': !collapsed}"></i></a>-->
    
    <span ng-if="!node.isEdit">{{node.name}}</span>
    <span data-nodrag ng-if="node.isEdit">
        <div class="menueditmode">
            <input class="form-control" maxlength="50" ng-model="node.name" />
            <ui-select ng-model="node.icon">
                <ui-select-match placeholder="Select an icon">
                    <!--<div ng-bind-html="$select.selected.label || '<i class='+$select.selected+'>'"></div>-->
                    <div>
                        <span ng-if="$select.selected.value" class="{{$select.selected.value}}">{{ $select.selected.value }}</span>
                        <span ng-if="!$select.selected.value" class="{{$select.selected}}">{{ $select.selected }}</span>
                    </div>
                </ui-select-match>
                <ui-select-choices repeat="icon in icons | filter:{ label:$select.search }">
                    <div ng-bind-html="icon.label"></div>
                </ui-select-choices>
            </ui-select>
        </div>
        <div class="action-buttons-block">
            <a ng-click="update(node)"><i class="fa fa-check"></i></a>
        </div>
    </span>
    <select data-nodrag class="form-control ng-animate-disabled"
            name="name"
            ng-model="menuModuleList"
            ng-change="selectModule(node.menuId, node.no, menuModuleList)"
            ng-show="!node.isEdit && node.showModuleList"
            ng-options="o as o['label_' + language + '_plural'] for o in newModuleList | filter:{display:'!false'} | orderNotZero | orderBy:'label_' + language + '_plural'">
        <option value="">
            {{'Common.Select' | translate}}
        </option>
    </select>
    <div data-nodrag ng-if="!node.isEdit" class="action-buttons-block">
        <a ng-if="node.menuModuleType === 'Tanım Giriş'" ng-click="addModule(node.no)"><i class="fas fa-plus"></i></a> 
        <a ng-if="!node.showModuleList" class="action-buttons-edit" ng-click="edit(node)"><i class="fas fa-pen"></i> </a>
        <a ng-if="!node.showModuleList" class="action-buttons-delete" ng-click="remove_($parent.$parent.$modelValue, $parent.$parent.$parentNodesScope.$modelValue, $parent.$parent.$parentNodeScope.$modelValue)"><i class="fas fa-trash"></i></a>
    </div>
    
</span>
<ol ui-tree-nodes="" ng-model="node.nodes" ng-class="{hidden: collapsed}">
    <li ng-repeat="node in node.nodes" ui-tree-node ng-include="'view/app/visualization/menus/test.html'">
    </li>
</ol>