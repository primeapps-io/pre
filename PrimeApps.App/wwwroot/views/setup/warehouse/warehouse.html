<div class="panel panel-default setup-panel warehouse">
    <div class="panel-body">
        <div class="subpanel">
            <h5 class="subpanel-heading">{{'Setup.Warehouse.Title' | translate}}</h5>
            <div class="subpanel-body">
                <div ng-if="loading" class="page-loading"><i class="fa fa-sm fa-spinner fa-pulse"></i></div>
                <div ng-show="!loading">
                    <form name="warehouseForm" ng-submit="changePassword()" class="form-horizontal" novalidate>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">{{'Setup.Warehouse.Server' | translate}}</label>
                            <div class="col-sm-9">
                                <span class="info">{{warehouseInfo.server}}</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">{{'Setup.Warehouse.Database' | translate}}</label>
                            <div class="col-sm-9">
                                <span class="info">{{warehouseInfo.database}}</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">{{'Setup.Warehouse.Username' | translate}}</label>
                            <div class="col-sm-9">
                                <span class="info">{{warehouseInfo.username}}</span>
                            </div>
                        </div>
                        <div class="form-group" ng-class="{'has-error': warehouseForm.$submitted && warehouseForm.databasePassword.$invalid}">
                            <label class="col-sm-3 control-label">{{'Setup.Warehouse.Password' | translate}}</label>
                            <div class="col-sm-9">
                                <input
                                        type="password"
                                        name="databasePassword"
                                        style="max-width: 200px;"
                                        placeholder="**********"
                                        class="form-control"
                                        ng-minlength="8"
                                        maxlength="20"
                                        ng-model-options="{allowInvalid: true}"
                                        ng-model="databasePassword"
                                        ng-change="setValid()" />
                            </div>
                        </div>
                        <div class="form-group" ng-show="warehouseForm.$submitted && warehouseForm.$invalid">
                            <div class="col-sm-12">
                                <div class="callout callout-danger">
                                    <p ng-if="warehouseForm.$error.required">{{'Module.RequiredError' | translate}}</p>
                                    <p ng-if="warehouseForm.$error.minlength">{{'Setup.Warehouse.PasswordMinError' | translate}}</p>
                                    <p ng-if="warehouseForm.$error.password">{{'Setup.Warehouse.PasswordComplexError' | translate}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-3 col-sm-9" title="{{!workgroup.hasAnalytics ? ('Analytics.DemoDisabled' | translate) : ''}}">
                                <button type="submit" class="btn btn-primary btn-w-lg" ladda="changing" ng-disabled="!workgroup.hasAnalytics"><i class="fa fa-check-circle pull-left"></i> {{'Setup.Warehouse.ChangePassword' | translate}}</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>