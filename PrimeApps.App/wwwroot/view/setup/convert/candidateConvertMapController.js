"use strict";angular.module("primeapps").controller("CandidateConvertMapController",["$rootScope","$scope","$filter","$cache","helper","ConvertMapService","mdToast",function(e,i,o,d,l,n,a){i.$parent.collapsed=!0,i.language=e.language,i.candidateModule=o("filter")(e.modules,{name:"adaylar"},!0)[0],i.employeeModule=o("filter")(e.modules,{name:"calisanlar"},!0)[0];var t=function(){var e=i.candidateModule.id;n.getMappings(e).then(function(e){i.employeeModule.selectedFields={},angular.forEach(e.data,function(e){i.employeeModule.selectedFields[e.field_id]=o("filter")(i.employeeModule.fields,{id:e.mapping_field_id},i.employeeModule,{id:e.mapping_module_id},!0)[0]})})["catch"](function(){a.error(o("translate")("Common.Error"))})};t(),i.customFilter=function(e){return function(i){return"lookup"===i.data_type&&"lookup"===e.data_type?i.lookup_type===e.lookup_type?!0:!1:"picklist"===i.data_type&&"picklist"===e.data_type?i.picklist_id===e.picklist_id?!0:!1:!0}},i.mappingModuleFieldChanged=function(e,d,l){var t={};if(t.module_id=i.candidateModule.id,t.mapping_module_id=e.id,t.field_id=d.id,t.mapping_field_id=null,e.selectedFields[d.id]){var c=e.selectedFields[d.id];t.mapping_field_id=c.id,n.createMapping(t).then(function(){i.showSuccessIcon={},i.showSuccessIcon[d.id]={},i.showSuccessIcon[d.id][e.id]=!0})["catch"](function(){a.error(o("translate")("Common.Error"))})}else t.mapping_field_id=l.id,n.deleteMapping(t).then(function(){i.showSuccessIcon={},i.showSuccessIcon[d.id]=!0})["catch"](function(){a.error(o("translate")("Common.Error"))})}}]);