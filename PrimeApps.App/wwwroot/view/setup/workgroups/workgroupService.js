"use strict";angular.module("primeapps").factory("WorkgroupService",["$http","config","$filter","entityTypes",function(e,t,a,n){return{getWorkgoups:function(){return e.post(t.apiUrl+"Instance/GetWorkgroups",{})},getWorkgoup:function(){return e.post(t.apiUrl+"Instance/GetWorkgroup",{})},create:function(a){return e.post(t.apiUrl+"Instance/Create",angular.toJson(a))},edit:function(a,n){return e.post(t.apiUrl+"Instance/Edit",{title:a,instanceID:n})},remove:function(a){return e.post(t.apiUrl+"Instance/Remove",angular.toJson(a))},leave:function(a){return e.post(t.apiUrl+"Instance/Leave",angular.toJson(a))},join:function(a){return e.post(t.apiUrl+"Instance/Join",angular.toJson(a))},decline:function(a){return e.post(t.apiUrl+"Instance/Decline",angular.toJson(a))},isAvailableToInvite:function(a,n){return e.post(t.apiUrl+"User/IsAvailableToInvite",{EMail:a,InstanceID:n})},saveType:function(a){return e.post(t.apiUrl+"Entity/SaveOrUpdateType",a)},removeType:function(a){return e.post(t.apiUrl+"Entity/RemoveType",a)},removeTypeHistory:function(a,n){return e.post(t.apiUrl+"User/RemoveTypeHistory",{EntityType:a,InstanceID:n})},upgradeLicense:function(a,n){return e.post(t.apiUrl+"License/Upgrade",{LicenseID:a,Frequency:n,IsFreeLicense:!0})},getValues:function(e,t,n,r,u){var i=[];return angular.forEach(e,function(e){var i={};switch(angular.copy(e,i),i.ValueId=e.id,e.Type){case 3:i.ValueInt=e.DefaultValue&&parseInt(e.DefaultValue);break;case 4:i.ValueDate=e.DefaultValue&&new Date(e.DefaultValue.split(".").reverse().join("-"));break;case 6:i.ValueList=e.DefaultValue,i.Values=e.Value.split(",");break;case 9:i.ValueText=a("translate")("true"==e.DefaultValue?"Common.Yes":"Common.No");break;case 10:var o=a("filter")(n,{EntityID:e.DefaultValue,InstanceID:u},!0)[0];i.ValueText=o&&o.EntityName,i.ValueObject=o,i.Values=a("filter")(n,{EntityType:e.Value,InstanceID:u},!0);break;case 13:var s=a("filter")(t,{EntityID:e.DefaultValue},!0)[0];i.ValueText=s?s.EntityName:"",i.Values=t;break;case 14:var l=a("filter")(r,{Code:e.DefaultValue},!0)[0];i.ValueText=l&&l.Name,i.Values=r}this.push(i)},i),i=a("orderBy")(i,"Order")},getResourceUsageForType:function(a,n){return e.post(t.apiUrl+"Entity/GetResourceUsageForType",{EntityType:a,InstanceID:n})},getAllEntityTypes:function(e){var t=[];return t.push({id:n.lead,name:a("translate")("Lead.Lead")}),t.push({id:n.account,name:a("translate")("Account.Account")}),t.push({id:n.contact,name:a("translate")("Contact.Contact")}),t.push({id:n.opportunity,name:a("translate")("Opportunity.Opportunity")}),t.push({id:n.activity,name:a("translate")("Activity.Activity")}),angular.forEach(e,function(e){t.push({id:e.id,name:e.Title})}),t}}}]);