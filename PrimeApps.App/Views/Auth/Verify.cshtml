@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@{

	ViewBag.Title = "Verify";
	Layout = "~/Views/Shared/_LayoutAuth.cshtml";

	var app = "crm";
	var color = "#135dea";
	var email = "";
	var resend = false;
	var error = "";
	var logo = ViewBag.AppInfo["logo"].Value;
	if (ViewBag.AppInfo != null)
	{
		app = ViewBag.AppInfo["app"].Value;
		color = ViewBag.AppInfo["color"].Value;
		email = ViewBag.Email;
		resend = ViewBag.Resend;
		error = ViewBag.Error;
		ViewBag.Title = ViewBag.AppInfo["title"].Value;
	}
	var lang = ViewBag.Lang == "tr" ? "en" : "tr";
}

<div class="col-md-4 login-sec">
	<img class="logo-img" style="padding-bottom: 0;" src="@Url.Content(logo)" />
	<form class="login-form">
		<div class="form-check text-center">
			@if (!string.IsNullOrEmpty(error))
			{
				switch (error)
				{
					case "alreadyActivated":
						<div class="error">@Localizer["VerifyAlreadyActivated"]</div>
						break;
					case "userNotFound":
						<div class="error">@Localizer["VerifyUserNotFound"]</div>
						break;
					case "emailRequired":
						<div class="error">@Localizer["VerifyEmailRequired"]</div>
						break;
					default:
						<div class="error">@Localizer["Error"]</div>
						break;
				}
			}
			else
			{
				<i class="fa fa-4x fa-check-circle" style="color: @color"></i><br />
				<span class="free-info">
					@Html.Raw(Localizer["VerifyMail"])
					@if (!resend)
					{
						@Localizer["ResendMail"]
						<a href="@Url.Action("Verify", "Auth", new {ReturnUrl = ViewBag.ReturnUrl, Email = email, Resend = true})">@Localizer["ResendMailLink"]</a>
					}
					else
					{
						@Localizer["ResendMailSuccess"]
					}
				</span>
			}
		</div>
	</form>
</div>